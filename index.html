<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>PHP 7: The New New PHP</title>
  <meta name="author" content="Larry Garfield">
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="palantir-reveal/palantirnet-theme/assets/css/styles.css" id="theme">
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'palantirnet-theme/assets/css/print/pdf.css' : 'palantirnet-theme/assets/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="lib/js/html5shiv.js"></script>
  <![endif]-->

  <style type="text/css">

    .reveal img.graphic {
      width: 100%;
      border-radius: 5px;
    }

    img.screenshot {
      border-radius: 5px;
      width: 800px;
    }

    ul.inline {
      margin: 0;
      padding: 0;
      list-style-type: none;
      text-align: center;
    }

    ul.inline li {
      display: inline;
    }
  </style>

</head>
<!-- Change body class to "dark" if you prefer a dark theme, or "light" if you'd rather have a light theme-->
<body class="light">
<div class="reveal">
  <div class="logo">
    <p>Palantir.net</p>
  </div>
  <!-- Any section element inside of this container is displayed as a slide -->
  <div class="slides">

    <section>
      <h1>PHP 7</h1>
      <h2>The New New PHP</h2>
      <p>
        <small>Presented by <a href="http://www.garfieldtech.com/">Larry Garfield</a> (<a href="http://twitter.com/Crell">@Crell</a>)</small>
      </p>
    </section>
    <section class="l-2up">
      <h2><a href="http://twitter.com/Crell">@Crell</a></h2>
      <div>
        <img src="assets/larry-olaf-hug.jpg" alt="Larry implements Huggable" style="width: 350px; margin: 0" />
      </div>
      <div>
        <ul style="text-wrap: none">
          <li>Senior Architect, <a href="http://www.palantir.net/">Palantir.net</a></li>
          <li style="margin-top: 1em;">Drupal 8 Web Services Lead</li>
          <li style="margin-top: 1em;">Drupal Representative, <a href="http://www.php-fig.org/">PHP-FIG</a></li>
          <li style="margin-top: 1em;"><code>implements Huggable</code></li>
        </ul>
      </div>
    </section>
    <section>
      <img src="assets/php7-logo.svg" alt="PHP 7" data-credit="http://www.cowburn.info/2015/06/18/php7-logo/" />
    </section>
    <section>
      <section>
        <!-- scalar types -->
        <h1>#1</h1>
      </section>
    </section>
    <section>
      <!-- return types-->
      <section>
        <h1>#2</h1>
      </section>
    </section>
    <section>
      <!-- Expectations -->
      <section>
        <h1>#3</h1>
      </section>
    </section>
    <section>
      <!-- Spaceship -->
      <section>
        <h1>#4</h1>
      </section>
      <section>
        <pre class="font--16"><code class="php" data-trim>
usort($array, function ($a, $b) {
  if ($a < $b) {
    return -1;
  }
  elseif ($a > $b) {
    return 1;
  }
  else {
    return 0;
  }
});
        </code></pre>
      </section>
      <section>
        <h1>T_SPACESHIP</h1>
        <h1 style="margin-top: 1em;"><=></h1>
      </section>
      <section data-background="assets/tie-interceptor.jpg" data-background-size="100%" data-credit="http://fractalsponge.net/?p=128">
      </section>
      <section>
        <pre class="font--16"><code class="php" data-trim>
usort ($array, function($a, $b) {
  return $a <=> $b;
});
        </code></pre>
      </section>
      <section>
        <pre class="font--16"><code class="php" data-trim>
usort($people, function (Person $a, Person $b) {
  if ($a->lastName() < $b->lastName()) {
    return -1;
  }
  elseif ($a->lastName() > $b->lastName()) {
    return 1;
  }
  else {
    if ($a->firstName() < $b->firstName()) {
      return -1;
    }
    elseif ($a->firstName() > $b->firstName()) {
      return 1;
    }
    else {
      return 0;
    }
  }
});
        </code></pre>
      </section>
      <section>
        <pre class="font--16"><code class="php" data-trim>
usort($people, function (Person $a, Person $b) {
  return $a->lastName() < $b->lastName() ? -1
    : ($a->lastName() > $b->lastName() ? 1
      : $a->firstName() < $b->firstName() ? -1
        : ($a->firstName() > $b->firstName() ? 1 : 0));
});
        </code></pre>
        <h2 class="fragment" style="margin-top: 1em;"><q>You're Fired!</q></h2>
      </section>
      <section>
        <pre class="font--16"><code class="php" data-trim>
usort($people, function (Person $a, Person $b) {
  return [$a->lastName(), $a->firstName()] <=> [$b->lastName(), $b->firstName()];
});
        </code></pre>
      </section>
    </section>
    <section>
      <!-- Null coalesce -->
      <section>
        <h1>#5</h1>
      </section>
      <section>
        <pre class="font--16"><code class="php" data-trim>
$username = $username ? $username : 'Anonymous';
        </code></pre>
         <pre class="fragment font--16"><code class="php" data-trim>
$username = $username ?: 'Anonymous';
        </code></pre>
        <p class="fragment bigtext">But what if $username doesn't exist?</p>
        <p class="fragment"><code>Notice: Undefined variable: username on line 3</code></p>
      </section>
      <section>
        <pre class="font--16"><code class="php" data-trim>
$username = isset($username) && !is_null($username) ? $username : 'Anonymous';
        </code></pre>
        <p class="fragment">NULL coalesce!</p>
        <pre class="fragment font--16"><code class="php" data-trim>
$username = $username ?? 'Anonymous';
        </code></pre>
        <pre class="fragment font--16"><code class="php" data-trim>
$username = $submitted['username'] ?? $user->username() ?? 'Anonymous';
        </code></pre>
        <p class="fragment bigtext">?? checks setness, not truthiness</p>
      </section>
    </section>
    <section>
      <!-- CSPRING -->
      <section>
        <h1>#6</h1>
      </section>
    </section>
    <section>
      <!-- Anonymous classes -->
      <section>
        <h1>#7</h1>
      </section>
    </section>
    <section>
      <!-- Engine exceptions / Errors -->
      <section>
        <h1>#8</h1>
      </section>
    </section>
    <section>
      <!-- Generators -->
      <section>
        <h1>#9</h1>
      </section>
    </section>
    <section>
      <!-- Uniform variable syntax -->
      <section>
        <h1>#10</h1>
      </section>
    </section>
    <section>
      <!-- Performance (PHP goes to 11) -->
      <section>
        <h1>#11</h1>
      </section>
    </section>
    <section>
      <section>
        <p class="bigtext"><q>But I'm scared of .0 releases!</q></p>
      </section>
      <section>
        <ul>
          <li><img src="assets/drupal-8-logo.svg" alt="Drupal 8" /></li>
          <li><img src="assets/symfony-logo-vertical.svg" alt="Symfony2 and 3" /></li>
          <li><img src="assets/zf2-logo.svg" alt="Zend Framework 2 and 3" /></li>
          <li><img src="assets/laravel-l-slant.png" alt="Larvel" /></li>
          <li><img src="assets/yii-logo.png" alt="Yii framework" /></li>
          <li><img src="assets/magento-logo.png" alt="Magento" /></li>
          <li><img src="assets/slim-logo.png" alt="Slim" /></li>
          <li><img src="assets/wordpress-logo-stacked.png" alt="Wordpress" /></li>
          <li><img src="assets/cake-logo.png" alt="Cake PHP 3" /></li>
          <li><img src="assets/doctrineorm.jpg" alt="Doctrine" /></li>
        </ul>
        <aside class="notes">
          <ul>
            <li>Last minute delay in PHP 7 release due to engine bugs Drupal 8 found in testing.</li>
          </ul>
        </aside>
      </section>
      <section>
        <p class="bigtext"><a href="http://phpversions.info/php-7/">http://phpversions.info/php-7/</a></p>
        <p class="bigtext"><span class="fragment" data-countup="1" data-countup-step="1">28</span><span class="fragment"> and counting</span></p>
      </section>
      <section>
        Ubuntu and Debian stable will ship 7.x.
      </section>
    </section>

    <div style="display:none">
      Problem-solution style.

      Scalar types
      Return types
      Expectations (assertions that work)

      Spaceship operator
      Null coalesce
      CSPRING

      Anonymous classes
      Unicode code points

      Generator improvements
      Uniform variable syntax

      Speed
    </div>

        <section id="final">
          <h2>Larry Garfield</h2>
          <p>Senior Architect, <a href="http://www.palantir.net/">Palantir.net</a></p>
          <p>Let's Make Something Good Together.</p>
          <p>Keep tabs on our work at <a href="http://twitter.com/Palantir">@Palantir</a></p>
        </section>

  </div>

</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>

  // Full list of configuration options available at:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    center: true,

    transition: 'slide', // none/fade/slide/convex/concave/zoom

    // Optional reveal.js plugins
    dependencies: [
      { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'plugin/zoom-js/zoom.js', async: true },
      { src: 'plugin/notes/notes.js', async: true }
    ]
  });

</script>

</body>
</html>
